{
  "hash": "62b59f120d4544c15692c68530d66a31",
  "result": {
    "markdown": "---\ntitle: \"STAC across Languages\"\ndescription: |\n  STAC on-demand data cubes with R and Python.\ndate: today\nimage: figs/thumbnail.png\ncategories:\n  - r-spatial\n  - python\n  - rstats\nbibliography: bib.bib\ndraft: false\n---\n\n\n\n\n# Some background\n\nOver a month ago I was invited as a lecturer at the [OpenGeoHub 2023 Summer School in Poznan](https://opengeohub.org/summer-school/opengeohub-summer-school-poznan-2023/), Poland. It was a great experience, meeting brilliant people, learning from other lecturers and enjoying the city. Many thanks to the organizers!\n\nMy lecture was on [Tools and packages to query and process Sentinel-1 and Sentinel-2 data with R and Python](https://loreabad6.github.io/ogh23/). Following on the lecture and inspired by the [geocompx blogpost on geographic data analysis in R and Python](https://geocompx.org/post/2023/ogh23/), I started the quest to do a similar post with the basic content of my lecture.\n\nWhy do I call it a quest? Well, it took me a while. Before this post, my website was based on `distill`, so the migration process from a `distill`-based website to a `quarto`-based one was the first task. Why did I have to do the migration? Because [Quarto](https://quarto.org/docs/websites/) allows the combination of two or more programming languages in a single file, crucial for data science across languages.\n\n::: column-margin\nI managed to migrate thanks to JaKub Nowosad's talk at OpenGeoHub23 [@nowosad2023], the Quarto documentation and to posts from Danielle Navarro [@navarro2022]. Big thanks!\n:::\n\nBut in any case, I can now inaugurate my new website with a post on how to query STAC data and create on-demand data cubes with R and Python! So let's get to it.\n\n# Libraries\n\nLet's first load the libraries needed. Here you can get familiar with the tab setting of this post. Clicking on the R or Python tab will switch between languages. Clicking on either tab will switch the panel in the whole document.\n\n::: {.panel-tabset group=\"language\"}\n## Python\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport dask.array as da # handle dask arrays\nimport geopandas as gpd # handle geospatial data frames\nfrom IPython.display import Image # visualize URLs\nimport pystac_client # connecting to the STAC API\nfrom rasterio.enums import Resampling # perform re-sampling operations\nimport shapely # create vector objects\nimport stackstac # build an on-demand STAC data cube\n```\n:::\n\n\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr) # data wrangling\nlibrary(gdalcubes) # on-demand data cubes\nlibrary(knitr) # visualize URLs\nlibrary(rstac) # connecting to the STAC API\nlibrary(sf) # handle geospatial data frames\n```\n:::\n\n:::\n\n# Querying STAC data\n\n[STAC](https://stacspec.org/en) stands for SpatioTemporal Asset Catalog and it is \"a common language to describe geospatial information, so it can more easily be worked with, indexed, and discovered\".\n\nThere are several APIs available to query data, you can browse them all in the [STAC catalog index](https://stacindex.org/catalogs). Some of these APIs will require authentication to access the data. We will use the Earth Search catalog for this post, which allows querying data on Amazon Web Services (AWS). The data we will fetch (Sentinel-2) does not require authentication.\n\nIn Python we can use the [`pystac-client`](https://pystac-client.readthedocs.io/en/stable/quickstart.html#python) library [@pystac21], while in R we can use the [`rstac`](https://brazil-data-cube.github.io/rstac/index.html) library [@rstac21]. Refer to their documentation pages for more information.\n\nTo start fetching data, we will open a client. We can then see the collections available for this API. In Python we call a for loop on the client collections, while in R we use the `get_request()` function. Both methods make an HTTP GET request to STAC web services.\n\n::: {.panel-tabset group=\"language\"}\n## Python\n\n\n::: {.cell}\n\n```{.python .cell-code}\napi_url = 'https://earth-search.aws.element84.com/v1'\nclient = pystac_client.Client.open(api_url)\nfor collection in client.get_collections():\n    print(collection)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<CollectionClient id=sentinel-2-c1-l2a-preview>\n<CollectionClient id=cop-dem-glo-30>\n<CollectionClient id=naip>\n<CollectionClient id=sentinel-2-l2a>\n<CollectionClient id=sentinel-2-l1c>\n<CollectionClient id=cop-dem-glo-90>\n<CollectionClient id=sentinel-1-grd>\n<CollectionClient id=landsat-c2-l2>\n```\n:::\n:::\n\n\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\napi_url = \"https://earth-search.aws.element84.com/v1\"\nclient = stac(api_url)\ncollections(client) |> get_request()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n###STACCollectionList\n- collections (8 item(s)):\n  - sentinel-2-c1-l2a-preview\n  - cop-dem-glo-30\n  - naip\n  - sentinel-2-l2a\n  - sentinel-2-l1c\n  - cop-dem-glo-90\n  - sentinel-1-grd\n  - landsat-c2-l2\n- field(s): collections, links, context\n```\n:::\n:::\n\n:::\n\nWe will choose here Sentinel-2 Level 2a data, which provides atmospherically corrected data representing surface reflectance.\n\nWe can also set the coordinates for our query, in this case a `POINT` geometry, which will help to retrieve scenes that intersect with it. At last we can also set a time extent, where we define the start and end of our query.\n\n::: {.panel-tabset group=\"language\"}\n## Python\n\n\n::: {.cell}\n\n```{.python .cell-code}\n# collection ID\ncollection = 'sentinel-2-l2a'\n# coordinates\nlon = 16.9\nlat = 52.4\npoint = shapely.Point(lon, lat)\n# date range\ntime_extent = '2022-05-01/2022-10-01'\n```\n:::\n\n\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# collection ID\ncollection = 'sentinel-2-l2a'\n# coordinates\nlon = 16.9\nlat = 52.4\npoint = st_point(c(lon, lat))\n# date range\ntime_extent = c(\"2022-05-01\", \"2022-10-01\")\n```\n:::\n\n:::\n\nNow, we can pass the arguments to our search. Note for the R search we had to slightly format the `datetime` parameter. This is because of a bug when fetching the data from STAC.\n\nYou will see we can also query based on scene metadata. In this example we look for scenes with cloud cover lower than 10% for the whole scene. In Python we do the filtering within the search, while in R we perform it after the HTTP POST request.\n\nFinally, we check how many items we fetched with our query, also to compare that R and Python give us the same results.\n\n::: {.panel-tabset group=\"language\"}\n## Python\n\n\n::: {.cell}\n\n```{.python .cell-code}\nsearch = client.search(\n    collections=[collection],\n    intersects=point,\n    datetime=time_extent,\n    query=[\"eo:cloud_cover<10\"],\n)\nitems = search.item_collection()\nlen(items)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n8\n```\n:::\n:::\n\n\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\nitems = client  |> \n  stac_search(\n      collections = collection,\n      intersects = point, \n      datetime = paste0(time_extent,\"T00:00:00Z\", collapse = \"/\"),\n      limit = 100\n    ) |> \n  post_request() |> \n  items_filter(\n    filter_fn = function(x) {x$properties$`eo:cloud_cover` < 10}\n  )\nitems_length(items)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 8\n```\n:::\n:::\n\n:::\n\nTo explore the items as data frames we can either convert to a `geopandas` table in Python or to an `sf` table in R. We added an extra `fid` column to allow index matching to the original item list.\n\n::: {.panel-tabset group=\"language\"}\n## Python\n\n\n::: {.cell}\n\n```{.python .cell-code}\nitems_df = gpd.GeoDataFrame.from_features(items.to_dict(), crs=\"epsg:4326\")\nitems_df\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                                            geometry  ...                   updated\n0  POLYGON ((16.49848 53.24020, 17.39166 53.22562...  ...  2022-11-06T13:14:57.270Z\n1  POLYGON ((16.49848 53.24020, 17.39346 53.22558...  ...  2022-11-06T12:53:48.090Z\n2  POLYGON ((16.49848 53.24020, 18.14175 53.20819...  ...  2022-11-06T13:12:58.202Z\n3  POLYGON ((16.49848 53.24020, 18.14175 53.20819...  ...  2022-11-06T13:14:37.621Z\n4  POLYGON ((16.49848 53.24020, 18.14175 53.20819...  ...  2022-11-06T12:54:05.312Z\n5  POLYGON ((16.49848 53.24020, 17.39346 53.22558...  ...  2022-11-06T12:55:07.931Z\n6  POLYGON ((16.49848 53.24020, 18.14175 53.20819...  ...  2022-11-06T12:52:50.337Z\n7  POLYGON ((16.49848 53.24020, 18.14175 53.20819...  ...  2022-11-06T13:16:38.195Z\n\n[8 rows x 42 columns]\n```\n:::\n:::\n\n\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# we add an extra column to be able to subset the original item list\nitems_df = items_as_sf(items) |> \n  mutate(fid = row_number())\n# wrap function around st_as_sf and as_tibble just for nicer printing\nst_as_sf(as_tibble(items_df))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSimple feature collection with 8 features and 42 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 16.465 ymin: 52.22258 xmax: 18.14175 ymax: 53.2402\nGeodetic CRS:  WGS 84\n# A tibble: 8 × 43\n  `s2:generation_time`        s2:medium_proba_clouds_percenta…¹ `s2:product_uri`\n  <chr>                                                   <dbl> <chr>           \n1 2022-08-26T16:20:59.000000Z                           0.00172 S2A_MSIL2A_2022…\n2 2022-08-16T16:25:57.000000Z                           2.27    S2A_MSIL2A_2022…\n3 2022-08-03T13:51:55.000000Z                           5.69    S2A_MSIL2A_2022…\n4 2022-07-19T11:39:43.000000Z                           0.00007 S2B_MSIL2A_2022…\n5 2022-07-14T17:50:57.000000Z                           1.29    S2A_MSIL2A_2022…\n6 2022-06-27T16:28:10.000000Z                           0.732   S2A_MSIL2A_2022…\n7 2022-06-24T14:39:14.000000Z                           0.00130 S2A_MSIL2A_2022…\n8 2022-06-19T11:43:29.000000Z                           0.0514  S2B_MSIL2A_2022…\n# ℹ abbreviated name: ¹​`s2:medium_proba_clouds_percentage`\n# ℹ 40 more variables: `s2:processing_baseline` <chr>, `grid:code` <chr>,\n#   `s2:product_type` <chr>, `s2:snow_ice_percentage` <dbl>,\n#   `s2:vegetation_percentage` <dbl>, `processing:software` <chr>,\n#   `s2:high_proba_clouds_percentage` <dbl>,\n#   `s2:unclassified_percentage` <dbl>, `s2:water_percentage` <dbl>,\n#   `s2:not_vegetated_percentage` <dbl>, `s2:cloud_shadow_percentage` <dbl>, …\n```\n:::\n:::\n\n:::\n\nWhen we have the items as data frame, we can further filter the data based on the table columns. Below, we filter for data with a cloud cover lower than 2% and with a no-data pixel percentage below 10%.\n\nTo illustrate how to fetch item properties, we can select the first item in our list and get the datetime of this scene.\n\n::: {.panel-tabset group=\"language\"}\n## Python\n\n\n::: {.cell}\n\n```{.python .cell-code}\nids = items_df.loc[\n  (items_df['eo:cloud_cover'] <= 2) &\n  (items_df['s2:nodata_pixel_percentage'] <= 10)\n]\nitem = items[ids.index[0]]\nitem.datetime\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ndatetime.datetime(2022, 7, 19, 10, 6, 8, 645000, tzinfo=tzutc())\n```\n:::\n:::\n\n\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\nids = items_df |> \n  filter(\n    `eo:cloud_cover` <= 2, `s2:nodata_pixel_percentage` <= 10\n  ) |> \n  pull(fid)\nitem = items$features[[ids[1]]]\nitem$properties$datetime\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"2022-07-19T10:06:08.645000Z\"\n```\n:::\n:::\n\n:::\n\nWe can also take a look at the selected scene by fetching the item thumbnail. Here you will see that both R and Python return the same scene, as they should! 😉.\n\n::: {.panel-tabset group=\"language\"}\n## Python\n\n\n::: {.cell}\n\n```{.python .cell-code}\nthumbnail = item.assets[\"thumbnail\"].href\nImage(url = thumbnail)\n```\n\n::: {.cell-output-display}\n```{=html}\n<img src=\"https://sentinel-cogs.s3.us-west-2.amazonaws.com/sentinel-s2-l2a-cogs/33/U/XU/2022/7/S2B_33UXU_20220719_0_L2A/thumbnail.jpg\"/>\n```\n:::\n:::\n\n\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\nitem |> \n  assets_url(asset_names = \"thumbnail\") |> \n  include_graphics()\n```\n\n::: {.cell-output-display}\n![](https://sentinel-cogs.s3.us-west-2.amazonaws.com/sentinel-s2-l2a-cogs/33/U/XU/2022/7/S2B_33UXU_20220719_0_L2A/thumbnail.jpg)\n:::\n:::\n\n:::\n\n# Creating a STAC data cube\n\nFetching individual scenes is interesting, but the real power of working with the STAC API is the possibility to work with big EO data without the need to download a single pixel to your own computer!\n\nFor this, we can create an on-demand data cube that can help us organize and analyze our data, doing the data wrangling needed and only fetching the data we need as a final step.\n\nTo create on-demand data cubes, we will use R's [gdalcubes](https://gdalcubes.github.io/) [@gdalcubes21] and Python's [stackstac](https://stackstac.readthedocs.io/en/latest/) [@stackstac23].\n\nWe will create our data cube on a smaller subset. Here we load a GeoJSON file of Poznan, where the summer school took place. We read it in and extract its bounding box.\n\n::: {.panel-tabset group=\"language\"}\n## Python\n\n\n::: {.cell}\n\n```{.python .cell-code}\npoznan = \"https://raw.githubusercontent.com/loreabad6/ogh23/main/data/poznan.geojson\"\nfootprint = gpd.read_file(poznan)\nbbox = footprint.total_bounds\n```\n:::\n\n\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\npoznan = \"https://raw.githubusercontent.com/loreabad6/ogh23/main/data/poznan.geojson\"\nfootprint = read_sf(poznan)\nbbox = footprint |> st_transform(crs = 32633) |> st_bbox()\n```\n:::\n\n:::\n\nNow we can create our cube. The following code chunk has several steps depending if you are in the R or Python tab. I kept it as a single block since this is how we get an on-demand data cube on each end. In essence what we do is:\n\n1.  Define the assets we want.\n\nI selected RGB+NIR bands to illustrate this process, but of course we can set any other band. I included the [SCL band](https://sentinels.copernicus.eu/web/sentinel/technical-guides/sentinel-2-msi/level-2a/algorithm-overview), which we will use to mask clouds.\n\n2.  Set-up the cube.\n\n-   In Python we do this with the `stackstac.stack` function, where we can set the resolution, assets, bounding box, and re-sampling method for the data. Separately we define a cloud mask to get remove invalid pixels.\n-   In R, this works in a lengthier way, using more intermediate functions. We first define the collection with the assets with the `stac_image_collection` function. Then, we define an extent in the form of a list. This extent will have the start and end date as well as the bounding box of our cube. Now we can define a `view`, which defines the CRS, spatial and temporal resolution, and the aggregation and re-sampling method. We finally define the cloud mask with `image_mask` and can then build a `raster_cube`.\n\n::: {.panel-tabset group=\"language\"}\n## Python\n\n\n::: {.cell}\n\n```{.python .cell-code}\nassets = [\"red\",\"green\",\"blue\",\"nir\",\"scl\"]\ncube_all = stackstac.stack(\n    items,\n    assets=assets,\n    resolution=200,\n    bounds_latlon=bbox,\n    resampling=Resampling.bilinear\n)\nscl = cube_all.sel(band=[\"scl\"])\ns2_mask = da.isin(scl, [3,8,9])\ncube = cube_all.where(~s2_mask)\ncube\n```\n\n::: {.cell-output-display}\n```{=html}\n<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));\n  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));\n  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));\n  --xr-border-color: var(--jp-border-color2, #e0e0e0);\n  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);\n  --xr-background-color: var(--jp-layout-color0, white);\n  --xr-background-color-row-even: var(--jp-layout-color1, white);\n  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);\n}\n\nhtml[theme=dark],\nbody[data-theme=dark],\nbody.vscode-dark {\n  --xr-font-color0: rgba(255, 255, 255, 1);\n  --xr-font-color2: rgba(255, 255, 255, 0.54);\n  --xr-font-color3: rgba(255, 255, 255, 0.38);\n  --xr-border-color: #1F1F1F;\n  --xr-disabled-color: #515151;\n  --xr-background-color: #111111;\n  --xr-background-color-row-even: #111111;\n  --xr-background-color-row-odd: #313131;\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 20px 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: none;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: '►';\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: '▼';\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: '(';\n}\n\n.xr-dim-list:after {\n  content: ')';\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: ',';\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  margin-bottom: 0;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  background-color: var(--xr-background-color) !important;\n  padding-bottom: 5px !important;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;stackstac-488683ba46ca080d7bae3993b8b89142&#x27; (time: 8,\n                                                                band: 5,\n                                                                y: 140, x: 143)&gt;\ndask.array&lt;where, shape=(8, 5, 140, 143), dtype=float64, chunksize=(1, 1, 140, 143), chunktype=numpy.ndarray&gt;\nCoordinates: (12/52)\n  * time                                     (time) datetime64[ns] 2022-06-19...\n    id                                       (time) &lt;U24 &#x27;S2B_33UXU_20220619_...\n  * band                                     (band) &lt;U5 &#x27;red&#x27; &#x27;green&#x27; ... &#x27;scl&#x27;\n  * x                                        (x) float64 6.19e+05 ... 6.474e+05\n  * y                                        (y) float64 5.823e+06 ... 5.795e+06\n    s2:generation_time                       (time) &lt;U27 &#x27;2022-06-19T11:43:29...\n    ...                                       ...\n    raster:bands                             (band) object {&#x27;nodata&#x27;: 0, &#x27;dat...\n    title                                    (band) &lt;U30 &#x27;Red (band 4) - 10m&#x27;...\n    common_name                              (band) object &#x27;red&#x27; ... None\n    center_wavelength                        (band) object 0.665 0.56 ... None\n    full_width_half_max                      (band) object 0.038 0.045 ... None\n    epsg                                     int32 32633\nAttributes:\n    spec:        RasterSpec(epsg=32633, bounds=(619000, 5795000, 647600, 5823...\n    crs:         epsg:32633\n    transform:   | 200.00, 0.00, 619000.00|\\n| 0.00,-200.00, 5823000.00|\\n| 0...\n    resolution:  200</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'stackstac-488683ba46ca080d7bae3993b8b89142'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 8</li><li><span class='xr-has-index'>band</span>: 5</li><li><span class='xr-has-index'>y</span>: 140</li><li><span class='xr-has-index'>x</span>: 143</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-5f8246ad-f63a-435f-919a-599d0454273d' class='xr-array-in' type='checkbox' checked><label for='section-5f8246ad-f63a-435f-919a-599d0454273d' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 1, 140, 143), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 6.11 MiB </td>\n                        <td> 156.41 kiB </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (8, 5, 140, 143) </td>\n                        <td> (1, 1, 140, 143) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 40 chunks in 10 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> float64 numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"399\" height=\"186\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"35\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"0\" y1=\"25\" x2=\"35\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"25\" style=\"stroke-width:2\" />\n  <line x1=\"4\" y1=\"0\" x2=\"4\" y2=\"25\" />\n  <line x1=\"8\" y1=\"0\" x2=\"8\" y2=\"25\" />\n  <line x1=\"13\" y1=\"0\" x2=\"13\" y2=\"25\" />\n  <line x1=\"17\" y1=\"0\" x2=\"17\" y2=\"25\" />\n  <line x1=\"21\" y1=\"0\" x2=\"21\" y2=\"25\" />\n  <line x1=\"26\" y1=\"0\" x2=\"26\" y2=\"25\" />\n  <line x1=\"30\" y1=\"0\" x2=\"30\" y2=\"25\" />\n  <line x1=\"35\" y1=\"0\" x2=\"35\" y2=\"25\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"0.0,0.0 35.18729017829414,0.0 35.18729017829414,25.412616514582485 0.0,25.412616514582485\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"17.593645\" y=\"45.412617\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >8</text>\n  <text x=\"55.187290\" y=\"12.706308\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(0,55.187290,12.706308)\">1</text>\n\n\n  <!-- Horizontal lines -->\n  <line x1=\"105\" y1=\"0\" x2=\"124\" y2=\"19\" style=\"stroke-width:2\" />\n  <line x1=\"105\" y1=\"117\" x2=\"124\" y2=\"136\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"105\" y1=\"0\" x2=\"105\" y2=\"117\" style=\"stroke-width:2\" />\n  <line x1=\"108\" y1=\"3\" x2=\"108\" y2=\"121\" />\n  <line x1=\"112\" y1=\"7\" x2=\"112\" y2=\"125\" />\n  <line x1=\"116\" y1=\"11\" x2=\"116\" y2=\"128\" />\n  <line x1=\"120\" y1=\"15\" x2=\"120\" y2=\"132\" />\n  <line x1=\"124\" y1=\"19\" x2=\"124\" y2=\"136\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"105.0,0.0 124.00817703983937,19.008177039839367 124.00817703983937,136.49069452235688 105.0,117.48251748251751\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Horizontal lines -->\n  <line x1=\"105\" y1=\"0\" x2=\"225\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"108\" y1=\"3\" x2=\"228\" y2=\"3\" />\n  <line x1=\"112\" y1=\"7\" x2=\"232\" y2=\"7\" />\n  <line x1=\"116\" y1=\"11\" x2=\"236\" y2=\"11\" />\n  <line x1=\"120\" y1=\"15\" x2=\"240\" y2=\"15\" />\n  <line x1=\"124\" y1=\"19\" x2=\"244\" y2=\"19\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"105\" y1=\"0\" x2=\"124\" y2=\"19\" style=\"stroke-width:2\" />\n  <line x1=\"225\" y1=\"0\" x2=\"244\" y2=\"19\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"105.0,0.0 225.0,0.0 244.00817703983938,19.008177039839367 124.00817703983937,19.008177039839367\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Horizontal lines -->\n  <line x1=\"124\" y1=\"19\" x2=\"244\" y2=\"19\" style=\"stroke-width:2\" />\n  <line x1=\"124\" y1=\"136\" x2=\"244\" y2=\"136\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"124\" y1=\"19\" x2=\"124\" y2=\"136\" style=\"stroke-width:2\" />\n  <line x1=\"244\" y1=\"19\" x2=\"244\" y2=\"136\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"124.00817703983937,19.008177039839367 244.00817703983938,19.008177039839367 244.00817703983938,136.49069452235688 124.00817703983937,136.49069452235688\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"184.008177\" y=\"156.490695\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >143</text>\n  <text x=\"264.008177\" y=\"77.749436\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(-90,264.008177,77.749436)\">140</text>\n  <text x=\"104.504089\" y=\"146.986606\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(45,104.504089,146.986606)\">5</text>\n</svg>\n        </td>\n    </tr>\n</table></div></div></li><li class='xr-section-item'><input id='section-46d7032d-6e87-4b9c-ae16-30efb9656620' class='xr-section-summary-in' type='checkbox'  ><label for='section-46d7032d-6e87-4b9c-ae16-30efb9656620' class='xr-section-summary' >Coordinates: <span>(52)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2022-06-19T10:06:08.087000 ... 2...</div><input id='attrs-25d9dcde-8d22-4257-b01a-d93135191526' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-25d9dcde-8d22-4257-b01a-d93135191526' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-924a03b0-b41a-4af2-8f82-ec8adaae6d29' class='xr-var-data-in' type='checkbox'><label for='data-924a03b0-b41a-4af2-8f82-ec8adaae6d29' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-06-19T10:06:08.087000000&#x27;, &#x27;2022-06-24T10:06:16.177000000&#x27;,\n       &#x27;2022-06-27T10:16:12.822000000&#x27;, &#x27;2022-07-14T10:06:16.331000000&#x27;,\n       &#x27;2022-07-19T10:06:08.645000000&#x27;, &#x27;2022-08-03T10:06:14.409000000&#x27;,\n       &#x27;2022-08-16T10:16:12.609000000&#x27;, &#x27;2022-08-26T10:16:12.680000000&#x27;],\n      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U24</div><div class='xr-var-preview xr-preview'>&#x27;S2B_33UXU_20220619_0_L2A&#x27; ... &#x27;...</div><input id='attrs-f1b12471-20f7-4921-83ff-379e838539e5' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f1b12471-20f7-4921-83ff-379e838539e5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0cea6f69-10dc-4643-a72b-04ba620bfe10' class='xr-var-data-in' type='checkbox'><label for='data-0cea6f69-10dc-4643-a72b-04ba620bfe10' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;S2B_33UXU_20220619_0_L2A&#x27;, &#x27;S2A_33UXU_20220624_0_L2A&#x27;,\n       &#x27;S2A_33UXU_20220627_0_L2A&#x27;, &#x27;S2A_33UXU_20220714_0_L2A&#x27;,\n       &#x27;S2B_33UXU_20220719_0_L2A&#x27;, &#x27;S2A_33UXU_20220803_0_L2A&#x27;,\n       &#x27;S2A_33UXU_20220816_0_L2A&#x27;, &#x27;S2A_33UXU_20220826_0_L2A&#x27;],\n      dtype=&#x27;&lt;U24&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>&lt;U5</div><div class='xr-var-preview xr-preview'>&#x27;red&#x27; &#x27;green&#x27; &#x27;blue&#x27; &#x27;nir&#x27; &#x27;scl&#x27;</div><input id='attrs-e1c11308-59fa-4539-b883-17d34a01b424' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e1c11308-59fa-4539-b883-17d34a01b424' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-48c82db3-b054-4ece-8f2b-637ef07934ee' class='xr-var-data-in' type='checkbox'><label for='data-48c82db3-b054-4ece-8f2b-637ef07934ee' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;nir&#x27;, &#x27;scl&#x27;], dtype=&#x27;&lt;U5&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>6.19e+05 6.192e+05 ... 6.474e+05</div><input id='attrs-b2b0c50d-13cd-4362-8733-20bcc47aca8d' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b2b0c50d-13cd-4362-8733-20bcc47aca8d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6a09621b-4dc2-4f39-99b6-439c29344936' class='xr-var-data-in' type='checkbox'><label for='data-6a09621b-4dc2-4f39-99b6-439c29344936' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([619000., 619200., 619400., 619600., 619800., 620000., 620200., 620400.,\n       620600., 620800., 621000., 621200., 621400., 621600., 621800., 622000.,\n       622200., 622400., 622600., 622800., 623000., 623200., 623400., 623600.,\n       623800., 624000., 624200., 624400., 624600., 624800., 625000., 625200.,\n       625400., 625600., 625800., 626000., 626200., 626400., 626600., 626800.,\n       627000., 627200., 627400., 627600., 627800., 628000., 628200., 628400.,\n       628600., 628800., 629000., 629200., 629400., 629600., 629800., 630000.,\n       630200., 630400., 630600., 630800., 631000., 631200., 631400., 631600.,\n       631800., 632000., 632200., 632400., 632600., 632800., 633000., 633200.,\n       633400., 633600., 633800., 634000., 634200., 634400., 634600., 634800.,\n       635000., 635200., 635400., 635600., 635800., 636000., 636200., 636400.,\n       636600., 636800., 637000., 637200., 637400., 637600., 637800., 638000.,\n       638200., 638400., 638600., 638800., 639000., 639200., 639400., 639600.,\n       639800., 640000., 640200., 640400., 640600., 640800., 641000., 641200.,\n       641400., 641600., 641800., 642000., 642200., 642400., 642600., 642800.,\n       643000., 643200., 643400., 643600., 643800., 644000., 644200., 644400.,\n       644600., 644800., 645000., 645200., 645400., 645600., 645800., 646000.,\n       646200., 646400., 646600., 646800., 647000., 647200., 647400.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.823e+06 5.823e+06 ... 5.795e+06</div><input id='attrs-69814162-22f8-4750-845a-4e80d9303e1b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-69814162-22f8-4750-845a-4e80d9303e1b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2662c905-7933-48b1-aa40-624a17364d5d' class='xr-var-data-in' type='checkbox'><label for='data-2662c905-7933-48b1-aa40-624a17364d5d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([5823000., 5822800., 5822600., 5822400., 5822200., 5822000., 5821800.,\n       5821600., 5821400., 5821200., 5821000., 5820800., 5820600., 5820400.,\n       5820200., 5820000., 5819800., 5819600., 5819400., 5819200., 5819000.,\n       5818800., 5818600., 5818400., 5818200., 5818000., 5817800., 5817600.,\n       5817400., 5817200., 5817000., 5816800., 5816600., 5816400., 5816200.,\n       5816000., 5815800., 5815600., 5815400., 5815200., 5815000., 5814800.,\n       5814600., 5814400., 5814200., 5814000., 5813800., 5813600., 5813400.,\n       5813200., 5813000., 5812800., 5812600., 5812400., 5812200., 5812000.,\n       5811800., 5811600., 5811400., 5811200., 5811000., 5810800., 5810600.,\n       5810400., 5810200., 5810000., 5809800., 5809600., 5809400., 5809200.,\n       5809000., 5808800., 5808600., 5808400., 5808200., 5808000., 5807800.,\n       5807600., 5807400., 5807200., 5807000., 5806800., 5806600., 5806400.,\n       5806200., 5806000., 5805800., 5805600., 5805400., 5805200., 5805000.,\n       5804800., 5804600., 5804400., 5804200., 5804000., 5803800., 5803600.,\n       5803400., 5803200., 5803000., 5802800., 5802600., 5802400., 5802200.,\n       5802000., 5801800., 5801600., 5801400., 5801200., 5801000., 5800800.,\n       5800600., 5800400., 5800200., 5800000., 5799800., 5799600., 5799400.,\n       5799200., 5799000., 5798800., 5798600., 5798400., 5798200., 5798000.,\n       5797800., 5797600., 5797400., 5797200., 5797000., 5796800., 5796600.,\n       5796400., 5796200., 5796000., 5795800., 5795600., 5795400., 5795200.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:generation_time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U27</div><div class='xr-var-preview xr-preview'>&#x27;2022-06-19T11:43:29.000000Z&#x27; .....</div><input id='attrs-6f7b32a3-c7f0-43f0-b435-ac9809ec7c43' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6f7b32a3-c7f0-43f0-b435-ac9809ec7c43' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b0dd5423-a551-43c4-8e47-cccd1e64d1de' class='xr-var-data-in' type='checkbox'><label for='data-b0dd5423-a551-43c4-8e47-cccd1e64d1de' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-06-19T11:43:29.000000Z&#x27;, &#x27;2022-06-24T14:39:14.000000Z&#x27;,\n       &#x27;2022-06-27T16:28:10.000000Z&#x27;, &#x27;2022-07-14T17:50:57.000000Z&#x27;,\n       &#x27;2022-07-19T11:39:43.000000Z&#x27;, &#x27;2022-08-03T13:51:55.000000Z&#x27;,\n       &#x27;2022-08-16T16:25:57.000000Z&#x27;, &#x27;2022-08-26T16:20:59.000000Z&#x27;],\n      dtype=&#x27;&lt;U27&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>instruments</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U3</div><div class='xr-var-preview xr-preview'>&#x27;msi&#x27;</div><input id='attrs-03be9bb4-f792-4804-9f68-9567f5f0786b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-03be9bb4-f792-4804-9f68-9567f5f0786b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8b210225-8c89-4c94-92b4-1e7a37ede5d0' class='xr-var-data-in' type='checkbox'><label for='data-8b210225-8c89-4c94-92b4-1e7a37ede5d0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;msi&#x27;, dtype=&#x27;&lt;U3&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:snow_ice_percentage</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-ff5af6e2-192b-4f01-a88c-1738d2b35520' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ff5af6e2-192b-4f01-a88c-1738d2b35520' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-40f9b1a5-6c3e-4c49-9391-e82dc367c35f' class='xr-var-data-in' type='checkbox'><label for='data-40f9b1a5-6c3e-4c49-9391-e82dc367c35f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:thin_cirrus_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>7.433 0.000713 ... 0.4116 0.001074</div><input id='attrs-c461574c-c837-42f4-92db-eb9df42a935a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c461574c-c837-42f4-92db-eb9df42a935a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f84602a7-155e-42c8-8a30-203a29445f01' class='xr-var-data-in' type='checkbox'><label for='data-f84602a7-155e-42c8-8a30-203a29445f01' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([7.43253e+00, 7.13000e-04, 5.00000e-05, 5.48640e-02, 5.43800e-03,\n       1.80420e-02, 4.11558e-01, 1.07400e-03])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:datatake_type</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U8</div><div class='xr-var-preview xr-preview'>&#x27;INS-NOBS&#x27;</div><input id='attrs-9f5a8d59-fe38-4b24-b906-c52da7b19268' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9f5a8d59-fe38-4b24-b906-c52da7b19268' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f4b223d1-1097-4b79-ad37-4397f7575f0a' class='xr-var-data-in' type='checkbox'><label for='data-f4b223d1-1097-4b79-ad37-4397f7575f0a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;INS-NOBS&#x27;, dtype=&#x27;&lt;U8&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>earthsearch:s3_path</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U79</div><div class='xr-var-preview xr-preview'>&#x27;s3://sentinel-cogs/sentinel-s2-...</div><input id='attrs-b42a7443-2129-411d-8923-25a80100d8f1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b42a7443-2129-411d-8923-25a80100d8f1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6cf31f95-b32f-41d6-a3b2-a05dda2276d1' class='xr-var-data-in' type='checkbox'><label for='data-6cf31f95-b32f-41d6-a3b2-a05dda2276d1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;s3://sentinel-cogs/sentinel-s2-l2a-cogs/33/U/XU/2022/6/S2B_33UXU_20220619_0_L2A&#x27;,\n       &#x27;s3://sentinel-cogs/sentinel-s2-l2a-cogs/33/U/XU/2022/6/S2A_33UXU_20220624_0_L2A&#x27;,\n       &#x27;s3://sentinel-cogs/sentinel-s2-l2a-cogs/33/U/XU/2022/6/S2A_33UXU_20220627_0_L2A&#x27;,\n       &#x27;s3://sentinel-cogs/sentinel-s2-l2a-cogs/33/U/XU/2022/7/S2A_33UXU_20220714_0_L2A&#x27;,\n       &#x27;s3://sentinel-cogs/sentinel-s2-l2a-cogs/33/U/XU/2022/7/S2B_33UXU_20220719_0_L2A&#x27;,\n       &#x27;s3://sentinel-cogs/sentinel-s2-l2a-cogs/33/U/XU/2022/8/S2A_33UXU_20220803_0_L2A&#x27;,\n       &#x27;s3://sentinel-cogs/sentinel-s2-l2a-cogs/33/U/XU/2022/8/S2A_33UXU_20220816_0_L2A&#x27;,\n       &#x27;s3://sentinel-cogs/sentinel-s2-l2a-cogs/33/U/XU/2022/8/S2A_33UXU_20220826_0_L2A&#x27;],\n      dtype=&#x27;&lt;U79&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:cloud_shadow_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>0 0.000989 1.168417 ... 1.743145 0</div><input id='attrs-73089748-f941-41c7-ad3d-cc0aa2ec188f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-73089748-f941-41c7-ad3d-cc0aa2ec188f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a8fd6d76-62bd-4f19-a415-ce8440d93a51' class='xr-var-data-in' type='checkbox'><label for='data-a8fd6d76-62bd-4f19-a415-ce8440d93a51' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0, 0.000989, 1.168417, 2.347726, 0, 4.482971, 1.743145, 0],\n      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:water_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.067 1.266 ... 0.7679 0.7824</div><input id='attrs-89bf5bf1-97d5-441e-9e4d-17c06b2b30af' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-89bf5bf1-97d5-441e-9e4d-17c06b2b30af' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fd3f333b-7765-41e3-9f68-113fe635bd2e' class='xr-var-data-in' type='checkbox'><label for='data-fd3f333b-7765-41e3-9f68-113fe635bd2e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1.066825, 1.266303, 0.75182 , 1.253815, 1.263951, 1.116363,\n       0.767899, 0.782386])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>grid:code</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U10</div><div class='xr-var-preview xr-preview'>&#x27;MGRS-33UXU&#x27;</div><input id='attrs-f0cba21b-e426-4ee1-836f-0a3619460ade' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f0cba21b-e426-4ee1-836f-0a3619460ade' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2cacce94-077c-41b3-8439-b0eda946b116' class='xr-var-data-in' type='checkbox'><label for='data-2cacce94-077c-41b3-8439-b0eda946b116' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;MGRS-33UXU&#x27;, dtype=&#x27;&lt;U10&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>earthsearch:payload_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U74</div><div class='xr-var-preview xr-preview'>&#x27;roda-sentinel2/workflow-sentine...</div><input id='attrs-c98cf714-28ab-4b33-b7e6-6021c67674e7' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c98cf714-28ab-4b33-b7e6-6021c67674e7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-33770e27-172c-4dbe-af98-6dcb6021d9e3' class='xr-var-data-in' type='checkbox'><label for='data-33770e27-172c-4dbe-af98-6dcb6021d9e3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;roda-sentinel2/workflow-sentinel2-to-stac/58f82edc8c40c1d0d56d8a26269d02eb&#x27;,\n       &#x27;roda-sentinel2/workflow-sentinel2-to-stac/9b8a11349c8bf4f2437e596421530090&#x27;,\n       &#x27;roda-sentinel2/workflow-sentinel2-to-stac/fd889d2975690939ea2990c8b784fc31&#x27;,\n       &#x27;roda-sentinel2/workflow-sentinel2-to-stac/1cea63f7fa1542d8a1c7bcd0b774584d&#x27;,\n       &#x27;roda-sentinel2/workflow-sentinel2-to-stac/4f39107c8fe71ec8f29d674a811d6c21&#x27;,\n       &#x27;roda-sentinel2/workflow-sentinel2-to-stac/6245fb70f8c638a7681c672a7bf7a006&#x27;,\n       &#x27;roda-sentinel2/workflow-sentinel2-to-stac/b5b785b4fac74933d25c20aec8ce66bd&#x27;,\n       &#x27;roda-sentinel2/workflow-sentinel2-to-stac/bff15f451a9bb2107d01668bb557f526&#x27;],\n      dtype=&#x27;&lt;U74&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>mgrs:latitude_band</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;U&#x27;</div><input id='attrs-e1556686-586b-4812-9440-f368a2226ceb' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e1556686-586b-4812-9440-f368a2226ceb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6186f668-fb27-43e3-a712-4e12f16b1a3c' class='xr-var-data-in' type='checkbox'><label for='data-6186f668-fb27-43e3-a712-4e12f16b1a3c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;U&#x27;, dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:nodata_pixel_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>0 0 ... 60.335821 60.458738</div><input id='attrs-8237cbcb-32e9-4f90-830c-314c95d4b3cc' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8237cbcb-32e9-4f90-830c-314c95d4b3cc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8b444da1-a8f5-4f6b-bb41-48d39555d7b3' class='xr-var-data-in' type='checkbox'><label for='data-8b444da1-a8f5-4f6b-bb41-48d39555d7b3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0, 0, 60.372794, 0, 3e-06, 3e-06, 60.335821, 60.458738],\n      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>mgrs:utm_zone</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>33</div><input id='attrs-a1686f62-e3af-4fa1-b1ea-2a2f03b4a58d' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a1686f62-e3af-4fa1-b1ea-2a2f03b4a58d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ad2495c9-9ef7-44cb-b47b-7d1d3b10cdbe' class='xr-var-data-in' type='checkbox'><label for='data-ad2495c9-9ef7-44cb-b47b-7d1d3b10cdbe' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(33)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>mgrs:grid_square</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;XU&#x27;</div><input id='attrs-70075cbf-2594-409f-a41f-b8a1e35d90c2' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-70075cbf-2594-409f-a41f-b8a1e35d90c2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-65611e87-4835-4dc0-a3e3-8d27b23f2fab' class='xr-var-data-in' type='checkbox'><label for='data-65611e87-4835-4dc0-a3e3-8d27b23f2fab' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;XU&#x27;, dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>earthsearch:boa_offset_applied</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>bool</div><div class='xr-var-preview xr-preview'>True</div><input id='attrs-2e540e90-0c1b-4442-b0aa-2e81dabe63bb' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2e540e90-0c1b-4442-b0aa-2e81dabe63bb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f3545cc1-b431-4cf9-acc7-44f718504fc2' class='xr-var-data-in' type='checkbox'><label for='data-f3545cc1-b431-4cf9-acc7-44f718504fc2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(True)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:sequence</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U1</div><div class='xr-var-preview xr-preview'>&#x27;0&#x27;</div><input id='attrs-c49164d4-5f3c-4772-afa5-a44407b09db1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c49164d4-5f3c-4772-afa5-a44407b09db1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c3567e11-bdac-4999-9246-70133dd3557d' class='xr-var-data-in' type='checkbox'><label for='data-c3567e11-bdac-4999-9246-70133dd3557d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;0&#x27;, dtype=&#x27;&lt;U1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:processing_baseline</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U5</div><div class='xr-var-preview xr-preview'>&#x27;04.00&#x27;</div><input id='attrs-4c2405fd-c478-434c-ace0-1a97d67f0ef2' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4c2405fd-c478-434c-ace0-1a97d67f0ef2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-27c77297-ec1e-46aa-9bb4-b3c0f4b322f2' class='xr-var-data-in' type='checkbox'><label for='data-27c77297-ec1e-46aa-9bb4-b3c0f4b322f2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;04.00&#x27;, dtype=&#x27;&lt;U5&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:sun_azimuth</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>158.9 158.5 162.7 ... 165.2 166.8</div><input id='attrs-191b0e7b-851a-4064-b41f-b50bfd0f9904' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-191b0e7b-851a-4064-b41f-b50bfd0f9904' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a8a140ca-1f3b-42ed-9caf-924145dc4f57' class='xr-var-data-in' type='checkbox'><label for='data-a8a140ca-1f3b-42ed-9caf-924145dc4f57' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([158.91324506, 158.50630661, 162.6663807 , 157.84964052,\n       157.99361406, 159.43576449, 165.15376613, 166.81057205])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>platform</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U11</div><div class='xr-var-preview xr-preview'>&#x27;sentinel-2b&#x27; ... &#x27;sentinel-2a&#x27;</div><input id='attrs-800ee6aa-d386-4974-93ee-89d392b72c5b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-800ee6aa-d386-4974-93ee-89d392b72c5b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4ac9186c-48c6-4062-836d-86cad9384e29' class='xr-var-data-in' type='checkbox'><label for='data-4ac9186c-48c6-4062-836d-86cad9384e29' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;sentinel-2b&#x27;, &#x27;sentinel-2a&#x27;, &#x27;sentinel-2a&#x27;, &#x27;sentinel-2a&#x27;,\n       &#x27;sentinel-2b&#x27;, &#x27;sentinel-2a&#x27;, &#x27;sentinel-2a&#x27;, &#x27;sentinel-2a&#x27;],\n      dtype=&#x27;&lt;U11&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:product_uri</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U65</div><div class='xr-var-preview xr-preview'>&#x27;S2B_MSIL2A_20220619T100029_N040...</div><input id='attrs-58771c26-ba4e-48bd-bb58-7af0930eaa1c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-58771c26-ba4e-48bd-bb58-7af0930eaa1c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6a0fdc9c-eda3-47c6-b3f8-f8d4a6150488' class='xr-var-data-in' type='checkbox'><label for='data-6a0fdc9c-eda3-47c6-b3f8-f8d4a6150488' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;S2B_MSIL2A_20220619T100029_N0400_R122_T33UXU_20220619T114329.SAFE&#x27;,\n       &#x27;S2A_MSIL2A_20220624T100041_N0400_R122_T33UXU_20220624T143914.SAFE&#x27;,\n       &#x27;S2A_MSIL2A_20220627T100611_N0400_R022_T33UXU_20220627T162810.SAFE&#x27;,\n       &#x27;S2A_MSIL2A_20220714T100041_N0400_R122_T33UXU_20220714T175057.SAFE&#x27;,\n       &#x27;S2B_MSIL2A_20220719T095559_N0400_R122_T33UXU_20220719T113943.SAFE&#x27;,\n       &#x27;S2A_MSIL2A_20220803T100041_N0400_R122_T33UXU_20220803T135155.SAFE&#x27;,\n       &#x27;S2A_MSIL2A_20220816T100611_N0400_R022_T33UXU_20220816T162557.SAFE&#x27;,\n       &#x27;S2A_MSIL2A_20220826T100611_N0400_R022_T33UXU_20220826T162059.SAFE&#x27;],\n      dtype=&#x27;&lt;U65&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>created</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U24</div><div class='xr-var-preview xr-preview'>&#x27;2022-11-06T13:16:38.195Z&#x27; ... &#x27;...</div><input id='attrs-22a45fe9-2a00-47a2-8e30-c0de6bedea00' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-22a45fe9-2a00-47a2-8e30-c0de6bedea00' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-12c6fd2a-b3f4-48df-ba65-71a7e7ac4221' class='xr-var-data-in' type='checkbox'><label for='data-12c6fd2a-b3f4-48df-ba65-71a7e7ac4221' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-11-06T13:16:38.195Z&#x27;, &#x27;2022-11-06T12:52:50.337Z&#x27;,\n       &#x27;2022-11-06T12:55:07.931Z&#x27;, &#x27;2022-11-06T12:54:05.312Z&#x27;,\n       &#x27;2022-11-06T13:14:37.621Z&#x27;, &#x27;2022-11-06T13:12:58.202Z&#x27;,\n       &#x27;2022-11-06T12:53:48.090Z&#x27;, &#x27;2022-11-06T13:14:57.270Z&#x27;],\n      dtype=&#x27;&lt;U24&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>processing:software</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>{&#x27;sentinel2-to-stac&#x27;: &#x27;0.1.0&#x27;}</div><input id='attrs-0f2ea160-f390-4ade-a8b2-923551ed442e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0f2ea160-f390-4ade-a8b2-923551ed442e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9617abf9-1bea-47b1-b994-139a6f4818b1' class='xr-var-data-in' type='checkbox'><label for='data-9617abf9-1bea-47b1-b994-139a6f4818b1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array({&#x27;sentinel2-to-stac&#x27;: &#x27;0.1.0&#x27;}, dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:vegetation_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>80.88 87.55 84.59 ... 55.84 64.06</div><input id='attrs-e13eeb27-9c2d-4df1-86f8-bd0c2509c967' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e13eeb27-9c2d-4df1-86f8-bd0c2509c967' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3c844b1a-f49c-408a-9d77-2551753d5446' class='xr-var-data-in' type='checkbox'><label for='data-3c844b1a-f49c-408a-9d77-2551753d5446' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([80.8779  , 87.545991, 84.593809, 64.089584, 64.467937, 49.599385,\n       55.840641, 64.060515])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:medium_proba_clouds_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.05143 0.001297 ... 2.271 0.00172</div><input id='attrs-a4cb3de6-b47d-4304-a51e-21314a117724' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a4cb3de6-b47d-4304-a51e-21314a117724' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-77719f5c-8cb2-4a2a-bb0f-c7c151f52739' class='xr-var-data-in' type='checkbox'><label for='data-77719f5c-8cb2-4a2a-bb0f-c7c151f52739' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([5.143000e-02, 1.297000e-03, 7.322780e-01, 1.287753e+00,\n       7.000000e-05, 5.689905e+00, 2.270966e+00, 1.720000e-03])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>proj:epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>32633</div><input id='attrs-8f57d746-3f9e-450c-bacb-4006b9f10201' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8f57d746-3f9e-450c-bacb-4006b9f10201' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9f1c239a-66b6-41a2-97ad-c5314f1b0e6d' class='xr-var-data-in' type='checkbox'><label for='data-9f1c239a-66b6-41a2-97ad-c5314f1b0e6d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32633)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:product_type</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U7</div><div class='xr-var-preview xr-preview'>&#x27;S2MSI2A&#x27;</div><input id='attrs-f98f88ed-2945-4b39-a42f-1c2fe1fef92f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-f98f88ed-2945-4b39-a42f-1c2fe1fef92f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ed775f0c-2f80-481a-b003-b1aedc65522c' class='xr-var-data-in' type='checkbox'><label for='data-ed775f0c-2f80-481a-b003-b1aedc65522c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;S2MSI2A&#x27;, dtype=&#x27;&lt;U7&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:high_proba_clouds_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.007488 0.000484 ... 0.000537</div><input id='attrs-3d543f28-0b0d-4889-8795-fae50ae1966d' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-3d543f28-0b0d-4889-8795-fae50ae1966d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-27d2ce54-b871-4b39-b0bb-7080ee860f9d' class='xr-var-data-in' type='checkbox'><label for='data-27d2ce54-b871-4b39-b0bb-7080ee860f9d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([7.488000e-03, 4.840000e-04, 3.348470e-01, 4.827590e-01,\n       3.000000e-06, 3.067140e+00, 2.117714e+00, 5.370000e-04])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>constellation</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>&lt;U10</div><div class='xr-var-preview xr-preview'>&#x27;sentinel-2&#x27;</div><input id='attrs-2ff976ed-596f-42ab-b7f3-f4966bb2504b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2ff976ed-596f-42ab-b7f3-f4966bb2504b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d24a80ce-22c5-43cd-86de-ca3325d9e898' class='xr-var-data-in' type='checkbox'><label for='data-d24a80ce-22c5-43cd-86de-ca3325d9e898' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&#x27;sentinel-2&#x27;, dtype=&#x27;&lt;U10&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:saturated_defective_pixel_percentage</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-83c7004b-3cc7-4df0-8eac-f0253ffdaea2' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-83c7004b-3cc7-4df0-8eac-f0253ffdaea2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d667a4e1-ed97-4ba8-8956-ae656d6246e4' class='xr-var-data-in' type='checkbox'><label for='data-d667a4e1-ed97-4ba8-8956-ae656d6246e4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:dark_features_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.002057 0.004107 ... 0.01486</div><input id='attrs-fb3fc308-e2e0-40d9-9017-46ac94a6ea03' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-fb3fc308-e2e0-40d9-9017-46ac94a6ea03' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ffc6b203-3eab-404f-a027-09b970ca272f' class='xr-var-data-in' type='checkbox'><label for='data-ffc6b203-3eab-404f-a027-09b970ca272f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.002057, 0.004107, 0.006966, 0.00361 , 0.004429, 0.003646,\n       0.010289, 0.01486 ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:datatake_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U34</div><div class='xr-var-preview xr-preview'>&#x27;GS2B_20220619T100029_027604_N04...</div><input id='attrs-c8890680-10ef-4706-a358-8ac1a873f55d' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c8890680-10ef-4706-a358-8ac1a873f55d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c453074f-4df8-414c-90a4-ac5d69c58e5c' class='xr-var-data-in' type='checkbox'><label for='data-c453074f-4df8-414c-90a4-ac5d69c58e5c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;GS2B_20220619T100029_027604_N04.00&#x27;,\n       &#x27;GS2A_20220624T100041_036584_N04.00&#x27;,\n       &#x27;GS2A_20220627T100611_036627_N04.00&#x27;,\n       &#x27;GS2A_20220714T100041_036870_N04.00&#x27;,\n       &#x27;GS2B_20220719T095559_028033_N04.00&#x27;,\n       &#x27;GS2A_20220803T100041_037156_N04.00&#x27;,\n       &#x27;GS2A_20220816T100611_037342_N04.00&#x27;,\n       &#x27;GS2A_20220826T100611_037485_N04.00&#x27;], dtype=&#x27;&lt;U34&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:reflectance_conversion_factor</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.9691 0.9683 ... 0.9741 0.9779</div><input id='attrs-852d9a8e-e001-41a4-99a3-be473c72caed' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-852d9a8e-e001-41a4-99a3-be473c72caed' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e4a75b61-992a-4f38-98b8-133de066c6da' class='xr-var-data-in' type='checkbox'><label for='data-e4a75b61-992a-4f38-98b8-133de066c6da' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.96912679, 0.96833888, 0.96797547, 0.96750684, 0.96788495,\n       0.97039583, 0.97414715, 0.9779224 ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>view:sun_elevation</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>59.41 59.34 59.71 ... 50.17 46.97</div><input id='attrs-7f7539a9-e895-490e-9ea8-94f6c4b34e68' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7f7539a9-e895-490e-9ea8-94f6c4b34e68' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-639f5800-a2eb-458e-afe1-36935e442039' class='xr-var-data-in' type='checkbox'><label for='data-639f5800-a2eb-458e-afe1-36935e442039' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([59.4067386 , 59.33648111, 59.7142557 , 57.43426893, 56.58894221,\n       53.33325433, 50.17160714, 46.96899755])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:datastrip_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U64</div><div class='xr-var-preview xr-preview'>&#x27;S2B_OPER_MSI_L2A_DS_2BPS_202206...</div><input id='attrs-47f3eb43-5c77-455b-957b-e017ae3d02b9' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-47f3eb43-5c77-455b-957b-e017ae3d02b9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b2cf607e-8d22-4ba2-b65b-d111bb27356d' class='xr-var-data-in' type='checkbox'><label for='data-b2cf607e-8d22-4ba2-b65b-d111bb27356d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;S2B_OPER_MSI_L2A_DS_2BPS_20220619T114329_S20220619T100031_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_DS_ATOS_20220624T143914_S20220624T100039_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_DS_ATOS_20220627T162810_S20220627T100933_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_DS_ATOS_20220714T175057_S20220714T100046_N04.00&#x27;,\n       &#x27;S2B_OPER_MSI_L2A_DS_2BPS_20220719T113943_S20220719T095747_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_DS_ATOS_20220803T135155_S20220803T100037_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_DS_ATOS_20220816T162557_S20220816T100922_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_DS_ATOS_20220826T162059_S20220826T100933_N04.00&#x27;],\n      dtype=&#x27;&lt;U64&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>updated</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U24</div><div class='xr-var-preview xr-preview'>&#x27;2022-11-06T13:16:38.195Z&#x27; ... &#x27;...</div><input id='attrs-06be4036-1e66-46fa-830e-8ddb66ca1e08' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-06be4036-1e66-46fa-830e-8ddb66ca1e08' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-504ec371-b765-4837-b8d3-925a0490d946' class='xr-var-data-in' type='checkbox'><label for='data-504ec371-b765-4837-b8d3-925a0490d946' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-11-06T13:16:38.195Z&#x27;, &#x27;2022-11-06T12:52:50.337Z&#x27;,\n       &#x27;2022-11-06T12:55:07.931Z&#x27;, &#x27;2022-11-06T12:54:05.312Z&#x27;,\n       &#x27;2022-11-06T13:14:37.621Z&#x27;, &#x27;2022-11-06T13:12:58.202Z&#x27;,\n       &#x27;2022-11-06T12:53:48.090Z&#x27;, &#x27;2022-11-06T13:14:57.270Z&#x27;],\n      dtype=&#x27;&lt;U24&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:granule_id</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>&lt;U62</div><div class='xr-var-preview xr-preview'>&#x27;S2B_OPER_MSI_L2A_TL_2BPS_202206...</div><input id='attrs-65ad0b00-7655-4065-ace8-8bd1f99df992' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-65ad0b00-7655-4065-ace8-8bd1f99df992' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-294a700a-97b5-4fd1-8d15-182d2bd6459b' class='xr-var-data-in' type='checkbox'><label for='data-294a700a-97b5-4fd1-8d15-182d2bd6459b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;S2B_OPER_MSI_L2A_TL_2BPS_20220619T114329_A027604_T33UXU_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_TL_ATOS_20220624T143914_A036584_T33UXU_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_TL_ATOS_20220627T162810_A036627_T33UXU_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_TL_ATOS_20220714T175057_A036870_T33UXU_N04.00&#x27;,\n       &#x27;S2B_OPER_MSI_L2A_TL_2BPS_20220719T113943_A028033_T33UXU_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_TL_ATOS_20220803T135155_A037156_T33UXU_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_TL_ATOS_20220816T162557_A037342_T33UXU_N04.00&#x27;,\n       &#x27;S2A_OPER_MSI_L2A_TL_ATOS_20220826T162059_A037485_T33UXU_N04.00&#x27;],\n      dtype=&#x27;&lt;U62&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:not_vegetated_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>10.43 11.0 12.07 ... 35.87 34.91</div><input id='attrs-89d9ddd3-4726-4ddf-8f59-06b403cc2b61' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-89d9ddd3-4726-4ddf-8f59-06b403cc2b61' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1717603a-cdf8-4ead-81f6-14440d6d90cf' class='xr-var-data-in' type='checkbox'><label for='data-1717603a-cdf8-4ead-81f6-14440d6d90cf' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([10.429534, 11.000518, 12.070826, 30.188122, 34.062394, 34.022531,\n       35.867879, 34.906355])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:unclassified_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.1322 0.1796 ... 0.9699 0.2326</div><input id='attrs-fbcf73ff-b283-43b3-8ac0-110b8ef8252b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-fbcf73ff-b283-43b3-8ac0-110b8ef8252b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8db75c56-f73d-47ac-91db-3e23aacc1e37' class='xr-var-data-in' type='checkbox'><label for='data-8db75c56-f73d-47ac-91db-3e23aacc1e37' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.132232, 0.179595, 0.340984, 0.291771, 0.195772, 2.000013,\n       0.96991 , 0.232552])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>s2:degraded_msi_data_percentage</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>0 0 0.0045 0 0 0 0.0045 0.0044</div><input id='attrs-224dc866-5ea4-4434-b2a3-f1ed016b5c6a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-224dc866-5ea4-4434-b2a3-f1ed016b5c6a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-303a8bdc-d1eb-4a21-b8be-63884bcf5135' class='xr-var-data-in' type='checkbox'><label for='data-303a8bdc-d1eb-4a21-b8be-63884bcf5135' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0, 0, 0.0045, 0, 0, 0, 0.0045, 0.0044], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>eo:cloud_cover</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>7.491 0.002495 ... 4.8 0.003331</div><input id='attrs-50498498-68a9-4480-aa61-23031bed74f5' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-50498498-68a9-4480-aa61-23031bed74f5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fbcbd2ca-8dc3-4fb5-80d6-a914f82a2b31' class='xr-var-data-in' type='checkbox'><label for='data-fbcbd2ca-8dc3-4fb5-80d6-a914f82a2b31' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([7.491449e+00, 2.495000e-03, 1.067175e+00, 1.825375e+00,\n       5.511000e-03, 8.775087e+00, 4.800238e+00, 3.331000e-03])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>gsd</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>10 10 10 10 None</div><input id='attrs-d8a19e8a-b093-4786-85cd-9f21da64bee4' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d8a19e8a-b093-4786-85cd-9f21da64bee4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2b27ecc3-6ff0-4c1c-a31e-04a5ba308360' class='xr-var-data-in' type='checkbox'><label for='data-2b27ecc3-6ff0-4c1c-a31e-04a5ba308360' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([10, 10, 10, 10, None], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>raster:bands</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>{&#x27;nodata&#x27;: 0, &#x27;data_type&#x27;: &#x27;uint...</div><input id='attrs-cd150860-019d-406f-b973-895f0d95f7c3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-cd150860-019d-406f-b973-895f0d95f7c3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5bbb6bba-f5a0-49d7-8676-96775eba4115' class='xr-var-data-in' type='checkbox'><label for='data-5bbb6bba-f5a0-49d7-8676-96775eba4115' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([{&#x27;nodata&#x27;: 0, &#x27;data_type&#x27;: &#x27;uint16&#x27;, &#x27;bits_per_sample&#x27;: 15, &#x27;spatial_resolution&#x27;: 10, &#x27;scale&#x27;: 0.0001, &#x27;offset&#x27;: -0.1},\n       {&#x27;nodata&#x27;: 0, &#x27;data_type&#x27;: &#x27;uint16&#x27;, &#x27;bits_per_sample&#x27;: 15, &#x27;spatial_resolution&#x27;: 10, &#x27;scale&#x27;: 0.0001, &#x27;offset&#x27;: -0.1},\n       {&#x27;nodata&#x27;: 0, &#x27;data_type&#x27;: &#x27;uint16&#x27;, &#x27;bits_per_sample&#x27;: 15, &#x27;spatial_resolution&#x27;: 10, &#x27;scale&#x27;: 0.0001, &#x27;offset&#x27;: -0.1},\n       {&#x27;nodata&#x27;: 0, &#x27;data_type&#x27;: &#x27;uint16&#x27;, &#x27;bits_per_sample&#x27;: 15, &#x27;spatial_resolution&#x27;: 10, &#x27;scale&#x27;: 0.0001, &#x27;offset&#x27;: -0.1},\n       {&#x27;nodata&#x27;: 0, &#x27;data_type&#x27;: &#x27;uint8&#x27;, &#x27;spatial_resolution&#x27;: 20}],\n      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>title</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>&lt;U30</div><div class='xr-var-preview xr-preview'>&#x27;Red (band 4) - 10m&#x27; ... &#x27;Scene ...</div><input id='attrs-15f7fd22-dc8f-4586-9e2e-3752d2d492fc' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-15f7fd22-dc8f-4586-9e2e-3752d2d492fc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-29a15cdf-630d-4a4d-bbb8-06be52b1ae4c' class='xr-var-data-in' type='checkbox'><label for='data-29a15cdf-630d-4a4d-bbb8-06be52b1ae4c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Red (band 4) - 10m&#x27;, &#x27;Green (band 3) - 10m&#x27;,\n       &#x27;Blue (band 2) - 10m&#x27;, &#x27;NIR 1 (band 8) - 10m&#x27;,\n       &#x27;Scene classification map (SCL)&#x27;], dtype=&#x27;&lt;U30&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>common_name</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;red&#x27; &#x27;green&#x27; &#x27;blue&#x27; &#x27;nir&#x27; None</div><input id='attrs-39efc071-6f6d-46c0-ac3c-04dac0318e93' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-39efc071-6f6d-46c0-ac3c-04dac0318e93' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e65c6f28-86df-4199-a1dd-d8b93c952c6c' class='xr-var-data-in' type='checkbox'><label for='data-e65c6f28-86df-4199-a1dd-d8b93c952c6c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;nir&#x27;, None], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>center_wavelength</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>0.665 0.56 0.49 0.842 None</div><input id='attrs-61768763-ae50-4c72-885a-1b4c7e97c39f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-61768763-ae50-4c72-885a-1b4c7e97c39f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6965d82f-b259-4ecf-9be4-4d1f5fed9205' class='xr-var-data-in' type='checkbox'><label for='data-6965d82f-b259-4ecf-9be4-4d1f5fed9205' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.665, 0.56, 0.49, 0.842, None], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>full_width_half_max</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>0.038 0.045 0.098 0.145 None</div><input id='attrs-282f997d-73a6-42e9-bec7-5ec24d4e1c0e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-282f997d-73a6-42e9-bec7-5ec24d4e1c0e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b528f6ca-01d3-4064-a485-babf5755e1f5' class='xr-var-data-in' type='checkbox'><label for='data-b528f6ca-01d3-4064-a485-babf5755e1f5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0.038, 0.045, 0.098, 0.145, None], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>epsg</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>32633</div><input id='attrs-a29e2001-5ca2-48c9-84a5-d7953f66f90e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a29e2001-5ca2-48c9-84a5-d7953f66f90e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2dd919d0-5b42-4951-babb-4c687d59522b' class='xr-var-data-in' type='checkbox'><label for='data-2dd919d0-5b42-4951-babb-4c687d59522b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(32633)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-fe59061b-d8d7-47f7-8f44-2835fa3c9a65' class='xr-section-summary-in' type='checkbox'  ><label for='section-fe59061b-d8d7-47f7-8f44-2835fa3c9a65' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-05986a06-5611-4049-b6c7-c4b171ba7911' class='xr-index-data-in' type='checkbox'/><label for='index-05986a06-5611-4049-b6c7-c4b171ba7911' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2022-06-19 10:06:08.087000&#x27;, &#x27;2022-06-24 10:06:16.177000&#x27;,\n               &#x27;2022-06-27 10:16:12.822000&#x27;, &#x27;2022-07-14 10:06:16.331000&#x27;,\n               &#x27;2022-07-19 10:06:08.645000&#x27;, &#x27;2022-08-03 10:06:14.409000&#x27;,\n               &#x27;2022-08-16 10:16:12.609000&#x27;, &#x27;2022-08-26 10:16:12.680000&#x27;],\n              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>band</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-f40a207f-ad1f-4825-9495-c81cb66ef434' class='xr-index-data-in' type='checkbox'/><label for='index-f40a207f-ad1f-4825-9495-c81cb66ef434' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;nir&#x27;, &#x27;scl&#x27;], dtype=&#x27;object&#x27;, name=&#x27;band&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-5cb173b0-8764-42bc-bc76-c9ca741fce17' class='xr-index-data-in' type='checkbox'/><label for='index-5cb173b0-8764-42bc-bc76-c9ca741fce17' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([619000.0, 619200.0, 619400.0, 619600.0, 619800.0, 620000.0, 620200.0,\n       620400.0, 620600.0, 620800.0,\n       ...\n       645600.0, 645800.0, 646000.0, 646200.0, 646400.0, 646600.0, 646800.0,\n       647000.0, 647200.0, 647400.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=143))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-72b77bfd-641f-4ec4-8024-d1bb699effd6' class='xr-index-data-in' type='checkbox'/><label for='index-72b77bfd-641f-4ec4-8024-d1bb699effd6' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([5823000.0, 5822800.0, 5822600.0, 5822400.0, 5822200.0, 5822000.0,\n       5821800.0, 5821600.0, 5821400.0, 5821200.0,\n       ...\n       5797000.0, 5796800.0, 5796600.0, 5796400.0, 5796200.0, 5796000.0,\n       5795800.0, 5795600.0, 5795400.0, 5795200.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=140))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ad2e38f0-62a9-4c3f-833d-6d403aee0046' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ad2e38f0-62a9-4c3f-833d-6d403aee0046' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>spec :</span></dt><dd>RasterSpec(epsg=32633, bounds=(619000, 5795000, 647600, 5823000), resolutions_xy=(200, 200))</dd><dt><span>crs :</span></dt><dd>epsg:32633</dd><dt><span>transform :</span></dt><dd>| 200.00, 0.00, 619000.00|\n| 0.00,-200.00, 5823000.00|\n| 0.00, 0.00, 1.00|</dd><dt><span>resolution :</span></dt><dd>200</dd></dl></div></li></ul></div></div>\n```\n:::\n:::\n\n\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\nassets = c(\"red\",\"green\",\"blue\",\"nir\",\"scl\")\ncol = stac_image_collection(items$features, asset_names = assets)\nextent = list(\n  t0 = time_extent[1], t1 = time_extent[2],\n  left = bbox[\"xmin\"], bottom = bbox[\"ymin\"], \n  right = bbox[\"xmax\"], top = bbox[\"ymax\"]\n)\nview = cube_view(\n  srs = \"epsg:32633\",  \n  extent = extent,\n  dx = 200, dy = 200, dt = \"P1D\",\n  aggregation = \"median\",\n  resampling = \"bilinear\"\n)\ns2_mask = image_mask(\"scl\", values = c(3,8,9))\ncube = raster_cube(col, view, mask = s2_mask)\ncube\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nA data cube proxy object\n\nDimensions:\n               low             high count pixel_size chunk_size\nt       2022-05-01       2022-10-01   154        P1D          1\ny 5795085.08512264 5822885.08512264   139        200        128\nx 619173.072575812 647573.072575812   142        200        128\n\nBands:\n   name offset scale nodata unit\n1  blue      0     1    NaN     \n2 green      0     1    NaN     \n3   nir      0     1    NaN     \n4   red      0     1    NaN     \n5   scl      0     1    NaN     \n```\n:::\n:::\n\n:::\n\nAnd now we have a data cube! Let's so a simple reduction over time of our data to view an RGB composite.\n\n::: {.panel-tabset group=\"language\"}\n## Python\n\n\n::: {.cell}\n\n```{.python .cell-code}\nrgb = cube.sel(band=[\"red\", \"green\", \"blue\"]).median(\"time\", keep_attrs=True)\nrgb = rgb.compute()\nrgb.plot.imshow(\n    rgb=\"band\",\n    robust=True\n)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-20-1.png){width=614}\n:::\n:::\n\n\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngdalcubes_options(parallel = 4, cache = TRUE) \nrgb = cube |> \n    select_bands(c(\"blue\",\"green\",\"red\")) |> \n    reduce_time(c(\"median(blue)\", \"median(green)\", \"median(red)\")) \nrgb |> \n    plot(rgb = 3:1) \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-21-3.png){width=672}\n:::\n:::\n\n:::\n\nAnd there we have it, a side by side how-to create on-demand STAC data cubes. If you want to get more functionalities and examples on what can be done with the packages please refer to the materials of my lecture: [Tools and packages to query and process Sentinel-1 and Sentinel-2 data with R and Python](https://loreabad6.github.io/ogh23/).\n\nHappy STACing!\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}