<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lorena Abad">
<meta name="dcterms.date" content="2021-11-30">
<meta name="description" content="Day 30: Metamapping day">

<title>#30DayMapChallenge &amp; #RStats – Lore Abad</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../static/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="#30DayMapChallenge &amp; #RStats – Lore Abad">
<meta property="og:description" content="Day 30: Metamapping day">
<meta property="og:image" content="figs/preview.png">
<meta property="og:site_name" content="Lore Abad">
<meta name="twitter:title" content="#30DayMapChallenge &amp; #RStats – Lore Abad">
<meta name="twitter:description" content="Day 30: Metamapping day">
<meta name="twitter:image" content="figs/preview.png">
<meta name="twitter:creator" content="@loreabad6">
<meta name="twitter:site" content="@loreabad6">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Lore Abad</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../presentations.html"> 
<span class="menu-text">Presentations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://fosstodon.org/@loreabad6"> <i class="bi bi-mastodon" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/loreabad6"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/loreabad6"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/lorena-abad/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">#30DayMapChallenge &amp; #RStats</h1>
                  <div>
        <div class="description">
          <p>Day 30: Metamapping day</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">r-spatial</div>
                <div class="quarto-category">dataviz</div>
                <div class="quarto-category">rstats</div>
              </div>
                  </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author"><a href="https://loreabad6.github.io">Lorena Abad</a> <a href="https://orcid.org/0000-0003-0554-734X" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              <a href="https://www.plus.ac.at/geoinformatik/?lang=en">
              University of Salzburg
              </a>
            </p>
        </div>
    </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 30, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-challenge" id="toc-the-challenge" class="nav-link active" data-scroll-target="#the-challenge">The challenge</a></li>
  <li><a href="#code-driven-maps" id="toc-code-driven-maps" class="nav-link" data-scroll-target="#code-driven-maps">Code-driven maps</a></li>
  <li><a href="#metamapping-my-challenge" id="toc-metamapping-my-challenge" class="nav-link" data-scroll-target="#metamapping-my-challenge">Metamapping my challenge</a>
  <ul class="collapse">
  <li><a href="#most-used-r-packages" id="toc-most-used-r-packages" class="nav-link" data-scroll-target="#most-used-r-packages">Most used R packages</a>
  <ul class="collapse">
  <li><a href="#sf" id="toc-sf" class="nav-link" data-scroll-target="#sf"><code>sf</code></a></li>
  <li><a href="#dplyr" id="toc-dplyr" class="nav-link" data-scroll-target="#dplyr"><code>dplyr</code></a></li>
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2"><code>ggplot2</code></a></li>
  <li><a href="#osmdata" id="toc-osmdata" class="nav-link" data-scroll-target="#osmdata"><code>osmdata</code></a></li>
  <li><a href="#tmap" id="toc-tmap" class="nav-link" data-scroll-target="#tmap"><code>tmap</code></a></li>
  <li><a href="#scico" id="toc-scico" class="nav-link" data-scroll-target="#scico"><code>scico</code></a></li>
  <li><a href="#stars" id="toc-stars" class="nav-link" data-scroll-target="#stars"><code>stars</code></a></li>
  </ul></li>
  <li><a href="#honorable-mentions" id="toc-honorable-mentions" class="nav-link" data-scroll-target="#honorable-mentions">Honorable mentions</a></li>
  </ul></li>
  <li><a href="#wrap-up" id="toc-wrap-up" class="nav-link" data-scroll-target="#wrap-up">Wrap-up</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<section id="the-challenge" class="level1">
<h1>The challenge</h1>
<p>Since 2019, the <a href="https://github.com/tjukanovt/30DayMapChallenge">#30DayMapChallenge</a> by <a href="https://twitter.com/tjukanov">Topi Tjukanov</a> has brought map geeks together for a month to flood our Twitter feeds with mind-blowing maps.</p>
<p>This year, I decided to participate by making maps with R! I had a lot of fun, but it was also quite a journey. I chose as an overarching topic my home country: <strong>Ecuador</strong>. I posted each of the maps on <a href="https://twitter.com/loreabad6">Twitter</a>, and these two are the ones that received most attention:</p>
<center>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
<a href="https://twitter.com/hashtag/30DayMapChallenge?src=hash&amp;ref_src=twsrc%5Etfw">#30DayMapChallenge</a> <br>Day 10: Raster<br>I am usually asked how hot my country is, and I usually say, not as hot as you may think! <br>Worldclim data is a wonderful source for <a href="https://twitter.com/hashtag/dataviz?src=hash&amp;ref_src=twsrc%5Etfw">#dataviz</a><a href="https://twitter.com/hashtag/RStats?src=hash&amp;ref_src=twsrc%5Etfw">#RStats</a> <a href="https://twitter.com/hashtag/rspatial?src=hash&amp;ref_src=twsrc%5Etfw">#rspatial</a> <a href="https://t.co/Fgurk6du09">pic.twitter.com/Fgurk6du09</a>
</p>
— Lorena Abad (<span class="citation" data-cites="loreabad6">@loreabad6</span>) <a href="https://twitter.com/loreabad6/status/1458747576455475210?ref_src=twsrc%5Etfw">November 11, 2021</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
<a href="https://twitter.com/hashtag/30DayMapChallenge?src=hash&amp;ref_src=twsrc%5Etfw">#30DayMapChallenge</a> <br>Day 24: Historical<br><br>Humboldt's travels through the Americas<br>I have been fascinated with this scientist and since I read The Invention of Nature by <a href="https://twitter.com/andrea_wulf?ref_src=twsrc%5Etfw"><span class="citation" data-cites="andrea_wulf">@andrea_wulf</span></a> I wanted to learn more and more!<a href="https://twitter.com/hashtag/RStats?src=hash&amp;ref_src=twsrc%5Etfw">#RStats</a> <a href="https://twitter.com/hashtag/RSpatial?src=hash&amp;ref_src=twsrc%5Etfw">#RSpatial</a> <a href="https://t.co/J5yPUqZtFY">pic.twitter.com/J5yPUqZtFY</a>
</p>
— Lorena Abad (<span class="citation" data-cites="loreabad6">@loreabad6</span>) <a href="https://twitter.com/loreabad6/status/1463564916187619333?ref_src=twsrc%5Etfw">November 24, 2021</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
<p>My personal favorite, however, is day 13. I live away from home and so many other Ecuadorians do. It was amazing to see where we all are, and how “far-away” time wise each of us is from calling our loved ones.</p>
<center>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
<a href="https://twitter.com/hashtag/30DayMapChallenge?src=hash&amp;ref_src=twsrc%5Etfw">#30DayMapChallenge</a> <br>Day 13: NaturalEarth data challenge<br><br>What is a good time to call home? Timezones are a hard thing to get used to when away from home. Here is a helpful map for all those Ecuadorians living abroad. <a href="https://twitter.com/hashtag/RStats?src=hash&amp;ref_src=twsrc%5Etfw">#RStats</a> <a href="https://twitter.com/hashtag/RSpatial?src=hash&amp;ref_src=twsrc%5Etfw">#RSpatial</a> <a href="https://t.co/i54824zsrx">pic.twitter.com/i54824zsrx</a>
</p>
— Lorena Abad (<span class="citation" data-cites="loreabad6">@loreabad6</span>) <a href="https://twitter.com/loreabad6/status/1460351905444544514?ref_src=twsrc%5Etfw">November 15, 2021</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
<p>You can see my complete gallery on <a href="https://github.com/loreabad6/30DayMapChallenge">this GitHub repository</a>. This post is meant to show the back-end of these maps, so here we go!</p>
</section>
<section id="code-driven-maps" class="level1">
<h1>Code-driven maps</h1>
<p>I get a certain satisfaction of generating maps with code. To know that a bunch of commands can result in pretty figures is not only rewarding but also helpful. The certainty that I can always go back to a piece of code to re-generate a certain plot is the peak of reproducible data visualization.</p>
<p>Don’t get me wrong, GUIs are great and have many advantages, like not taking 30 minutes to figure out the best coordinates for your labels. But it is that nice feeling of seeing a map somewhere and thinking: <em>How did this person do that? Which tools/packages did they use? Did they go through crazy workarounds to get that effect?</em>; and then actually being able to scan the building blocks of that map and answer those questions and test those effects for yourself, <strong>that makes the difference for me</strong>.</p>
<p>Of course, this can only happen when code is shared. I personally love R’s capabilities for creating nice maps/figures and I myself used only R for this challenge (except for <a href="https://raw.githubusercontent.com/loreabad6/30DayMapChallenge/main/maps/day15.jpg">Day 15: map without a computer</a>).</p>
<p>Many other mappers used R for their challenge as well. Here are some of the GitHub repositories and Gists I found, that used R for their challenge:</p>
<p><a href="https://github.com/richardvogg/30DayMapChallenge21">richardvogg</a> | <a href="https://github.com/gkaramanis/30DayMapChallenge">gkaramanis</a> | <a href="https://github.com/schochastics/30DayMapChallenge">schochastics</a> | <a href="https://github.com/shandiya/30DayMapChallenge">shandiya</a> | <a href="https://gist.github.com/dakvid/">dakvid</a> | <a href="https://github.com/leeolney3/30DayMapChallenge">leeolney3</a> | <a href="https://github.com/tashapiro/30DayMapChallenge">tashapiro</a> | <a href="https://github.com/bydata/30DayMapChallenge-2021">bydata</a></p>
<p>I don’t mean this in any way as a comprehensive list, but just a sample of all the creative code out there during this edition of the challenge. For some further examples check <a href="https://david.frigge.nz/3RDayMapChallenge">David Frigge’s awesome gallery</a>!</p>
</section>
<section id="metamapping-my-challenge" class="level1 page-columns page-full">
<h1>Metamapping my challenge</h1>
<p>The final day of the challenge is metamapping day. According to the details one can:</p>
<blockquote class="blockquote">
<p>Spend the day either by 1) collecting your entries from the challenge to a common gallery, 2) writing a tutorial or a blog post on one of your maps or 3) create a map from a theme you have chosen yourself</p>
</blockquote>
<p>Well, I decided to derail a bit and write a <em>meta</em> blog post for all the maps I created with R. In my tweets I always tried to include the packages I used for the day, however, I used so many for this challenge, that I thought they deserved some extra love. Some packages I already knew by heart (all their ins-and-outs and awesome capabilities), but others I discovered just because of this challenge and that was pretty cool. So, I chose for Day 30 to do a simple analysis of the packages I used.</p>
<p>My first task was to collect all the packages from my 28 R scripts. I was bracing myself either to writing my own function that would find all my <code>library()</code> calls, or to do some manual check of each. Luckily, <code>renv</code> came to my rescue. Did you know you can scan all the packages your project depends on? This was exactly what I needed, so with one line:</p>
<pre><code>renv::dependencies()</code></pre>
<p>I managed to get all of the packages I used, per script. Next tasks: summarize by number of times I called each package, and assign them a category. You can see the code I used <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day30_meta.R">here</a>.</p>
<p>The final result? The packages I used for each of my self-assigned categories and how many times I used them:</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div class="page-columns page-full">
<figure class="figure page-columns page-full">
<p class="page-columns page-full"><img src="https://raw.githubusercontent.com/loreabad6/30DayMapChallenge/main/figs/day30.png" class="img-fluid figure-img column-body-outset-left"></p>
</figure>
</div>
</div>
</div>
<p><em>Insights:</em></p>
<ul>
<li>Total number of packages used: `<code>r emo::ji("five")`9️⃣</code></li>
<li>There was not one package that was used every day of the challenge 🤯</li>
<li>Natural Earth was very frequently a data source, given that it is my go-to package to get country polygons 😁</li>
<li>Want to work with fonts on Windows? <a href="https://github.com/wch/extrafont"><code>extrafont</code></a> is your package! 😉</li>
<li>I limited my interactive mapping quite strictly to the set day 😅</li>
</ul>
<section id="most-used-r-packages" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="most-used-r-packages">Most used R packages</h2>
<section id="sf" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="sf"><a href="https://r-spatial.github.io/sf/"><code>sf</code></a></h3>

<div class="no-row-height column-margin column-container"><div class="">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://user-images.githubusercontent.com/520851/34887433-ce1d130e-f7c6-11e7-83fc-d60ad4fae6bd.gif" height="80" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div></div><p>Take a look again at the plot above, which package stands out the most? Beautiful <strong><em>sf</em></strong>! Simple features came here to stay and I am very glad it exists. Working with spatial data in R has never been easier, and that is because of this awesome package. I used it to read spatial data into R, to work with projections and to perform spatial analyses like joins, generating random spatial points, etc.</p>
</section>
<section id="dplyr" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="dplyr"><a href="https://dplyr.tidyverse.org/"><code>dplyr</code></a></h3>

<div class="no-row-height column-margin column-container"><div class="">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/tidyverse/dplyr/main/man/figures/logo.png" height="80" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div></div><p>The tidyverse has made working with data in R extremely intuitive. Being able to work with structured data frames brings data science to a new level. <strong><em>dplyr</em></strong> is the first tidyverse package I learnt and I use it constantly for tasks as filtering, selecting, mutating, etc.</p>
</section>
<section id="ggplot2" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="ggplot2"><a href="https://ggplot2.tidyverse.org"><code>ggplot2</code></a></h3>

<div class="no-row-height column-margin column-container"><div class="">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/tidyverse/ggplot2/raw/main/man/figures/logo.png" height="80" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div></div><p>Another package of the tidyverse is <strong><em>ggplot2</em></strong>, which introduces the grammar of graphics into R and is extremely powerful to create awesome visualizations. Two main functions allow you to combine this package with spatial data: <code>geom_sf()</code> and <code>geom_stars()</code>. One interesting tip, if you learn to use <code>coord_sf()</code>, you can do things like assigning a CRS to your plot, although your data has a different projection, as <code>coord_sf(crs ="+proj=geos")</code></p>
<p>This are the ggplot extensions I use the most:</p>
<div class="cell">
<div class="cell-output-display">
<div id="bdbryqmhvg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bdbryqmhvg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#bdbryqmhvg thead, #bdbryqmhvg tbody, #bdbryqmhvg tfoot, #bdbryqmhvg tr, #bdbryqmhvg td, #bdbryqmhvg th {
  border-style: none;
}

#bdbryqmhvg p {
  margin: 0;
  padding: 0;
}

#bdbryqmhvg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bdbryqmhvg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bdbryqmhvg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bdbryqmhvg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bdbryqmhvg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bdbryqmhvg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bdbryqmhvg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bdbryqmhvg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bdbryqmhvg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bdbryqmhvg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bdbryqmhvg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bdbryqmhvg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bdbryqmhvg .gt_spanner_row {
  border-bottom-style: hidden;
}

#bdbryqmhvg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bdbryqmhvg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bdbryqmhvg .gt_from_md > :first-child {
  margin-top: 0;
}

#bdbryqmhvg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bdbryqmhvg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bdbryqmhvg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bdbryqmhvg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bdbryqmhvg .gt_row_group_first td {
  border-top-width: 2px;
}

#bdbryqmhvg .gt_row_group_first th {
  border-top-width: 2px;
}

#bdbryqmhvg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bdbryqmhvg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bdbryqmhvg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bdbryqmhvg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bdbryqmhvg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bdbryqmhvg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bdbryqmhvg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#bdbryqmhvg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bdbryqmhvg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bdbryqmhvg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bdbryqmhvg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bdbryqmhvg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bdbryqmhvg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bdbryqmhvg .gt_left {
  text-align: left;
}

#bdbryqmhvg .gt_center {
  text-align: center;
}

#bdbryqmhvg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bdbryqmhvg .gt_font_normal {
  font-weight: normal;
}

#bdbryqmhvg .gt_font_bold {
  font-weight: bold;
}

#bdbryqmhvg .gt_font_italic {
  font-style: italic;
}

#bdbryqmhvg .gt_super {
  font-size: 65%;
}

#bdbryqmhvg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#bdbryqmhvg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bdbryqmhvg .gt_indent_1 {
  text-indent: 5px;
}

#bdbryqmhvg .gt_indent_2 {
  text-indent: 10px;
}

#bdbryqmhvg .gt_indent_3 {
  text-indent: 15px;
}

#bdbryqmhvg .gt_indent_4 {
  text-indent: 20px;
}

#bdbryqmhvg .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="extension"><p><a href="https://ggfx.data-imaginist.com/"><code>ggfx</code></a></p></td>
<td class="gt_row gt_left" headers="usage">To give shading and glow effects to spatial features</td>
<td class="gt_row gt_left" headers="hex"><img src="https://github.com/thomasp85/ggfx/raw/main/man/figures/logo.png" class="img-fluid" style="height:50px;"></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="extension"><p><a href="https://wilkelab.org/ggtext/"><code>ggtext</code></a></p></td>
<td class="gt_row gt_left" headers="usage">To add special formatting to text</td>
<td class="gt_row gt_left" headers="hex"><img src="" class="img-fluid" style="height:50px;"></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="extension"><p><a href="https://ggrepel.slowkow.com/"><code>gganimate</code></a></p></td>
<td class="gt_row gt_left" headers="usage">To animate the plots</td>
<td class="gt_row gt_left" headers="hex"><img src="https://raw.githubusercontent.com/thomasp85/gganimate/master/man/figures/logo.png" class="img-fluid" style="height:50px;"></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="extension"><p><a href="https://paleolimbot.github.io/ggspatial/"><code>ggspatial</code></a></p></td>
<td class="gt_row gt_left" headers="usage">To add north arrows and spatial scales</td>
<td class="gt_row gt_left" headers="hex"><img src="" class="img-fluid" style="height:50px;"></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="extension"><p><a href="https://eliocamp.github.io/ggnewscale/"><code>ggnewscale</code></a></p></td>
<td class="gt_row gt_left" headers="usage">To map multiple variables to the fill/color aesthetics</td>
<td class="gt_row gt_left" headers="hex"><img src="https://github.com/eliocamp/ggnewscale/raw/master/man/figures/logo.png" class="img-fluid" style="height:50px;"></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="extension"><p><a href="https://github.com/GuangchuangYu/ggimage/"><code>ggimage</code></a></p></td>
<td class="gt_row gt_left" headers="usage">To add images in spatial locations or as annotations</td>
<td class="gt_row gt_left" headers="hex"><img src="" class="img-fluid" style="height:50px;"></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="extension"><p><a href="https://ggrepel.slowkow.com/"><code>ggrepel</code></a></p></td>
<td class="gt_row gt_left" headers="usage">To automatically place overlapping labels</td>
<td class="gt_row gt_left" headers="hex"><img src="https://github.com/slowkow/ggrepel/raw/master/man/figures/logo.svg" class="img-fluid" style="height:50px;"></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="osmdata" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="osmdata"><a href="https://github.com/ropensci/osmdata"><code>osmdata</code></a></h3>

<div class="no-row-height column-margin column-container"><div class="">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/ropensci/osmdata/main/man/figures/logo.png" width="75" height="80" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div></div><p>This package is simply the easiest way I have come across in R to query OpenStreetMap data. I use it very often when I need to get data for small areas. For larger areas, for example a whole country, I use <a href="https://docs.ropensci.org/osmextract/"><code>osmextract</code></a>.</p>
</section>
<section id="tmap" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="tmap"><a href="https://github.com/r-tmap/tmap"><code>tmap</code></a></h3>

<div class="no-row-height column-margin column-container"><div class="">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://user-images.githubusercontent.com/3457131/78889069-479c5480-7a63-11ea-9d76-e8a0acc55c3f.png" height="80" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div></div><p>Want to plot spatial features fast and easy, static and interactive? Use <strong><em>tmap</em></strong>! I use this package a lot for my scientific publications because it allows you to use raster RGB images and vector data really easy. To get a bit more creative it has some limitations, and that is why I did not use it as often as ggplot2 on this challenge. But, one of the main features I like about this one is the ability to call <code>tm_facets()</code> and get individual plots of features grouped by a category, and let scales x and y be free. This is not possible with ggplot2. See that in action on <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day22_boundaries.R">Day 22: Boundaries</a>.</p>
<p><em>Note:</em> This hex logo is not official yet but I love it! Waiting eagerly for <a href="https://github.com/r-tmap/tmap/issues/599">version 4 of tmap</a> to launch this nice logo and many new features!</p>
</section>
<section id="scico" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="scico"><a href="https://github.com/thomasp85/scico"><code>scico</code></a></h3>

<div class="no-row-height column-margin column-container"><div class="">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/thomasp85/scico/raw/main/man/figures/logo.png" height="80" class="figure-img img-fluid"></p>
</figure>
</div>
</div>
</div>
</div></div><p><a href="https://www.fabiocrameri.ch/colourmaps/">Fabio Crameri</a> provided the whole scientific community a great set of scientific color palettes to fairly represent data that is universaly readable! <strong><em>scico</em></strong> allows you to use the palettes in R. Another great source of palettes is <a href="https://github.com/sjmgarnier/viridis">viridis</a>, which is already easily accessible in ggplot2 with <code>scale_*_viridis_*()</code>.</p>
</section>
<section id="stars" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="stars"><a href="https://github.com/r-spatial/stars"><code>stars</code></a></h3>

<div class="no-row-height column-margin column-container"><div class="">
<p><code>stars</code> really needs a hex logo 🙏</p>
</div></div><p>Spatiotemporal Arrays, Raster and Vector Data Cubes are handled neatly with <strong><em>stars</em></strong>. For anything raster or netcdf related this is my go-to package. It might be a bit complex to start with this package, but it is definitely worth it.</p>
<p>Other options to work with raster data are <code>raster</code> and <code>terra</code> form the <a href="https://rspatial.r-universe.dev/">rspatial universe</a>, which I actually use when I need to create hillshades from elevation data.</p>
</section>
</section>
<section id="honorable-mentions" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="honorable-mentions">Honorable mentions</h2>
<p>Although not on the top 7 above, there are some packages that I use frequently, but were not so used for this challenge. There are also really cool packages that I only discovered in the past month. Here is a table of how I used them:</p>
<div class="cell page-columns page-full">
<div class="cell-output-display column-body-outset-left">
<div id="fdkoyyvtou" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#fdkoyyvtou table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#fdkoyyvtou thead, #fdkoyyvtou tbody, #fdkoyyvtou tfoot, #fdkoyyvtou tr, #fdkoyyvtou td, #fdkoyyvtou th {
  border-style: none;
}

#fdkoyyvtou p {
  margin: 0;
  padding: 0;
}

#fdkoyyvtou .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fdkoyyvtou .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fdkoyyvtou .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fdkoyyvtou .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fdkoyyvtou .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fdkoyyvtou .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fdkoyyvtou .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fdkoyyvtou .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fdkoyyvtou .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fdkoyyvtou .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fdkoyyvtou .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fdkoyyvtou .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fdkoyyvtou .gt_spanner_row {
  border-bottom-style: hidden;
}

#fdkoyyvtou .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fdkoyyvtou .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fdkoyyvtou .gt_from_md > :first-child {
  margin-top: 0;
}

#fdkoyyvtou .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fdkoyyvtou .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fdkoyyvtou .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fdkoyyvtou .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fdkoyyvtou .gt_row_group_first td {
  border-top-width: 2px;
}

#fdkoyyvtou .gt_row_group_first th {
  border-top-width: 2px;
}

#fdkoyyvtou .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fdkoyyvtou .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fdkoyyvtou .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fdkoyyvtou .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fdkoyyvtou .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fdkoyyvtou .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fdkoyyvtou .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#fdkoyyvtou .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fdkoyyvtou .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fdkoyyvtou .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fdkoyyvtou .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fdkoyyvtou .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fdkoyyvtou .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fdkoyyvtou .gt_left {
  text-align: left;
}

#fdkoyyvtou .gt_center {
  text-align: center;
}

#fdkoyyvtou .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fdkoyyvtou .gt_font_normal {
  font-weight: normal;
}

#fdkoyyvtou .gt_font_bold {
  font-weight: bold;
}

#fdkoyyvtou .gt_font_italic {
  font-style: italic;
}

#fdkoyyvtou .gt_super {
  font-size: 65%;
}

#fdkoyyvtou .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#fdkoyyvtou .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fdkoyyvtou .gt_indent_1 {
  text-indent: 5px;
}

#fdkoyyvtou .gt_indent_2 {
  text-indent: 10px;
}

#fdkoyyvtou .gt_indent_3 {
  text-indent: 15px;
}

#fdkoyyvtou .gt_indent_4 {
  text-indent: 20px;
}

#fdkoyyvtou .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="pkg"><p><a href="https://luukvdmeer.github.io/sfnetworks/"><code>sfnetworks</code></a></p></td>
<td class="gt_row gt_left" headers="usage"><p>OK, I am biased here, but have you checked out <code>sfnetworks</code> yet? Well, if you work with spatial networks you should. I used it to compute travel time using public transport in Quito for <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day09_monochrome.R">Day 9: Monochrome</a></p></td>
<td class="gt_row gt_left" headers="hex"><img src="https://github.com/luukvdmeer/sfnetworks/raw/main/man/figures/logo.png" class="img-fluid" style="height:100px;"></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="pkg"><p><a href="https://r-spatial.github.io/rgee/"><code>rgee</code></a></p></td>
<td class="gt_row gt_left" headers="usage"><p>Do you work with Google Earth Engine? Do you want to do that via R? Then use <code>rgee</code>. I use it to extract RGB thumbnails of Sentinel-2 imagery. See the RGB collection for <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day06_red.R">Day 6</a>, <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day07_green.R">Day 7</a> and <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day08_blue.R">Day 8</a></p></td>
<td class="gt_row gt_left" headers="hex"><img src="https://raw.githubusercontent.com/r-spatial/rgee/master/man/figures/logo.png" class="img-fluid" style="height:100px;"></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="pkg"><p><a href="https://www.rayshader.com/"><code>rayshader</code></a></p></td>
<td class="gt_row gt_left" headers="usage"><p>For <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day11_3d.R">Day 11: 3D</a> I could not use any other package than rayshader. 3D rendering can get so creative with this package</p></td>
<td class="gt_row gt_left" headers="hex"><img src="https://github.com/tylermorganwall/rayshader/raw/master/man/figures/raylogosmall.png" class="img-fluid" style="height:100px;"></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="pkg"><p><a href="https://haven.tidyverse.org/"><code>haven</code></a></p></td>
<td class="gt_row gt_left" headers="usage"><p>Open data can come in so many formats and with so many extensions. When I first saw a <code>.dta</code> or a <code>.sav</code> file I thought, OK now what? Luckily, <code>haven</code> was just there ready made for these cases!</p></td>
<td class="gt_row gt_left" headers="hex"><img src="https://github.com/tidyverse/haven/raw/main/man/figures/logo.png" class="img-fluid" style="height:100px;"></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="pkg"><p><a href="https://www.garrickadenbuie.com/project/ggpomological/"><code>ggpomological</code></a></p></td>
<td class="gt_row gt_left" headers="usage"><p>For <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day24_historical.R">Day 24: Historical</a> I wanted to make a map with an old-style look. And there it was: <code>ggpomological</code>! I was very happy to run into this package</p></td>
<td class="gt_row gt_left" headers="hex"><img src="https://github.com/gadenbuie/ggpomological/raw/main/man/figures/ggpomological-1.png" class="img-fluid" style="height:100px;"></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="pkg"><p><a href="https://github.com/mnbram/gggibbous"><code>gggibbous</code></a></p></td>
<td class="gt_row gt_left" headers="usage"><p>I had seen moon plots in other dataviz projects before but had never tried them myself. For <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day19_islands.R">Day 19: Island(s)</a> I finally got the chance!</p></td>
<td class="gt_row gt_left" headers="hex"><img src="https://cran.r-project.org/web/packages/gggibbous/readme/man/figures/gggibbous.png" class="img-fluid" style="height:100px;"></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="pkg"><p><a href="https://chris-prener.github.io/biscale/"><code>biscale</code></a></p></td>
<td class="gt_row gt_left" headers="usage"><p>I remember I made some bivariate choropleth maps once and it required a lot of code to achieve. <code>biscale</code> made it easy! I really wanted to flip the legend, and I managed so if you are interested, code is there. Featured on <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day26_choropleth.R">Day 26: Choropleth</a></p></td>
<td class="gt_row gt_left" headers="hex"><img src="https://github.com/slu-openGIS/biscale/raw/main/man/figures/logo.png" class="img-fluid" style="height:100px;"></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="pkg"><p><a href="https://github.com/timelyportfolio/leaftime"><code>leaftime</code></a> &amp; <a href="https://rstudio.github.io/leaflet/"><code>leaflet</code></a></p></td>
<td class="gt_row gt_left" headers="usage"><p>I normally handle my interactive maps with <code>tmap</code> or <a href="https://r-spatial.github.io/mapview/"><code>mapview</code></a>, but this time I stubbornly wanted a time slider for my <a href="https://github.com/loreabad6/30DayMapChallenge/blob/main/scripts/day25_interactive.R">Day 25: Interactive</a> map, hence I ended up learning a lot on hot to use leaflet and its addons</p></td>
<td class="gt_row gt_left" headers="hex"><img src="" class="img-fluid" style="height:100px;"></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="wrap-up" class="level1">
<h1>Wrap-up</h1>
<p>With this challenge I wanted to show how flexible R is to generate beautiful reproducible maps. Maybe mine are not the best examples but there are so many awesome contributions out there! I hope this post helps anyone who wants to use R for spatial data visualization to point them to good resources.</p>
<p>This was my first #30DayMapChallenge, it was exciting to think of new topics every day but frustrating when Ecuador’s open data repositories either had their servers down or chose to share the data only as WMS or with no metadata. I know this does not happen only for Ecuador, as Sanna Jokela explained on her tweet for one of her contributions.</p>
<center>
<blockquote class="twitter-tweet blockquote">
<p lang="en" dir="ltr">
This a perfect example on how NOT to do a map in <a href="https://twitter.com/hashtag/30DayMapChallenge?src=hash&amp;ref_src=twsrc%5Etfw">#30DayMapChallenge</a>: do not get an idea before the data, because the everything goes åt helvete. Although it SHOULD be the otherway around! This is the reason to open data. You never know who you are enabling to do a better job.
</p>
— Sanna Jokela (<span class="citation" data-cites="SannaJokela1">@SannaJokela1</span>) <a href="https://twitter.com/SannaJokela1/status/1463399840130506752?ref_src=twsrc%5Etfw">November 24, 2021</a>
</blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</center>
<p>I cannot think of a better way to end this challenge. Thanks to anyone who followed my map making for 30 days, and sorry to those who follow me and were annoyed of having so many maps on your feed!</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{abad2021,
  author = {Abad, Lorena},
  title = {\#30DayMapChallenge \&amp; {\#RStats}},
  date = {2021-11-30},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-abad2021" class="csl-entry quarto-appendix-citeas" role="listitem">
Abad, Lorena. 2021. <span>“#30DayMapChallenge &amp; #RStats.”</span>
November 30, 2021.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>